<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./output.css" rel="stylesheet">
</head>
<body class="bg-black text-white">
    <canvas id="sparks" class="absolute top-0 left-0 w-full h-full z-0"></canvas>
    <div class="h-screen z-1 relative">
        <div class="flex justify-center items-center h-full">
            <h1 class="text-6xl tracking-wider">
                Spark of Chaos
            </h1>
        </div>
    </div>

<script>
    // ready function
    document.addEventListener('DOMContentLoaded', function() {
        // get canvas element
        var canvas = document.getElementById('sparks');
        // set canvas size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        // get canvas context
        var ctx = canvas.getContext('2d');
        // set canvas background color
        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        // set spark count
        var sparkCount = 1;
        var starsCount = 500;
        var stars = [];
        // set spark array
        var sparks = [];
        // set spark class
        class Spark {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 1;
                this.speedX = Math.random() * 2;
                this.speedY = Math.random() * 2;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.size -= 0.025;
                if (this.size < -10) {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2 + 1;
                    this.speedX = Math.random() * 2;
                    this.speedY = Math.random() * 2;
                }
            }
            draw() {
                ctx.fillStyle = 'white';
                ctx.beginPath();
                let size = this.size > 0 ? this.size : 0;
                ctx.arc(this.x, this.y, size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        class Star {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 0.99 + 0.01;
            }
            draw() {
                // Set fillstyle to white with random alpha
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
            // let stars twinkle
            update() {
                this.size += Math.random() * 0.01 - 0.005;
                if (this.size < 0.01) {
                    this.size = 0.01;
                }
                if (this.size > 1) {
                    this.size = 1;
                }
            }
        }

        // create sparks
        for (var i = 0; i < sparkCount; i++) {
            sparks.push(new Spark());
        }

        for (var i = 0; i < starsCount; i++) {
            stars.push(new Star());
        }
        // update function
        function update() {
            for (var i = 0; i < sparks.length; i++) {
                sparks[i].update();
                sparks[i].draw();
            }
            for (var i = 0; i < stars.length; i++) {
                stars[i].update();
                stars[i].draw();
            }
        }
        // loop function
        function loop() {
            ctx.fillStyle = 'rgba(0, 0, 0)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            update();
            requestAnimationFrame(loop);
        }
        // start loop
        loop();
    });
</script>
</body>
</html>